# Add mapping: (hp/wt) onto size
ggplot(mtcars, aes(x = mpg, y = qsec, col = factor(cyl), shape = factor(am), size = (hp/wt))) +
geom_point()
cyl.am <- ggplot(mtcars, aes(x = factor(cyl), fill = factor(am)))
cyl.am +
geom_bar()
cyl.am +
geom_bar(position = "fill")
cyl.am +
geom_bar(position = "dodge")
dia_plot <- dia_plot +
geom_point(alpha = 0.2)
dia_plot + geom_smooth(se = FALSE)
library(dplyr)
library(gapminder)
library(ggplot2)
install.packages("gapminder")
library(gapminder)
gap1992 <- gapminder %>% filter(year == 1992)
head(gap1992)
colnames(gap1992)
##run nrow() on gap1992
nrow(gap1992)
ggplot(gap1992, aes(x = gdpPercap, y = lifeExp, size=pop, color=continent)) +
geom_point() + ggtitle("Gapminder for 1992")
ggplot(gap1992, aes(x = log(gdpPercap), y = lifeExp, size=pop, color=continent)) +
geom_point() + ggtitle("Gapminder for 1992")
View(gap1992)
ggplot(data=gap1992,
mapping = aes(
x = log(gdpPercap),
y = lifeExp
)) +
geom_point()
ggplot(gap1992, aes(x = log(gdpPercap), y = lifeExp, color=continent)) +
geom_line()
ggplot(gap1992, aes(x = log(gdpPercap), y = lifeExp, color=continent)) +
geom_line() + geom_point()
ggplot(gap1992, aes(x = gdpPercap, y = lifeExp, size = pop, color = country) +
geom_point(continent) + FacetGrid(year)
ggplot(gap1992, aes(x = gdpPercap, y = lifeExp, size = pop, color = country) +
geom_point(continent) + Facet(year)
ggplot(gap1992, aes(x = gdpPercap, y = lifeExp, size = pop, color = country)
ggplot(gap1992, aes(x = gdpPercap, y = lifeExp, size = pop, color = country)
ggplot(gap1992, aes(x = gdpPercap, y = lifeExp, size = pop, color = country)
ggplot(gap1992, aes(x = gdpPercap, y = lifeExp, size = pop, color = country)
ggplot(gap1992, aes(x = gdpPercap, y = lifeExp, size = pop, color = country) +
geom_point(shape = continent) +
facet_grid(. ~ year)
ggplot(gap1992, aes(x = gdpPercap, y = lifeExp, size = pop, color = country) +
geom_point(shape = continent) +
facet_grid(. ~ year)
gapminder_1952 <- gapminder %>%
filter(year == 1952)
# Change to put pop on the x-axis and gdpPercap on the y-axis
ggplot(gapminder_1952, aes(x = pop, y = gdpPercap)) +
geom_point()
ggplot(gapminder_1952, aes(x = pop, y = lifeExp)) +
geom_point()
ggplot(gapminder_1952, aes(x = pop, y = lifeExp)) +
geom_point() +
scale_x_log10()
ggplot(gapminder_1952, aes(x = pop, y = gdpPercap)) +
geom_point() +
scale_x_log10() +
scale_y_log10()
ggplot(gapminder_1952, aes(x = pop, y = lifeExp, color = continent, size = gdpPercap)) +
geom_point() +
scale_x_log10()
ggplot(gapminder_1952, aes(x = pop, y = lifeExp)) +
geom_point() +
scale_x_log10() +
facet_wrap(~ continent)
ggplot(gapminder, aes(x = gdpPercap, y = lifeExp, color = continent, size = pop)) +
geom_point() +
scale_x_log10() +
facet_wrap(~ year)
gapminder %>%
group_by(continent, year) %>%
summarize(medianLifeExp = median(lifeExp),
maxGdpPercap = max(gdpPercap))
gapminder %>%
group_by(continent, year) %>%
summarize(medianLifeExp = median(lifeExp),
maxGdpPercap = max(gdpPercap))
ggplot(by_year, aes(x = year, y = medianLifeExp)) +
geom_point() +
expand_limits(y = 0)
by_year_continent <- gapminder %>%
group_by(continent, year) %>%
summarize(medianGdpPercap = median(gdpPercap))
ggplot(by_year_continent, aes(x = year, y = medianGdpPercap, color = continent)) +
geom_point() +
expand_limits(y = 0)
by_continent_2007 <- gapminder %>%
filter(year == 2007) %>%
group_by(continent) %>%
summarize(medianGdpPercap = median(gdpPercap),
medianLifeExp = median(lifeExp))
ggplot(by_continent_2007, aes(x = medianGdpPercap, y = medianLifeExp, color = continent)) +
geom_point()
by_continent_2007 <- gapminder %>%
filter(year == 2007) %>%
group_by(continent) %>%
summarize(medianGdpPercap = median(gdpPercap),
medianLifeExp = median(lifeExp))
by_continent_2007 <- gapminder %>%
filter(year == 2007) %>%
group_by(continent) %>%
summarize(medianGdpPercap = median(gdpPercap),
medianLifeExp = median(lifeExp))
install.packages("googleAnalyticsR")
library(googleAnalyticsR)
ga_auth()
my_accounts <- google_analytics_account_list()
View(my_accounts)
my_id <- 56037355
start_date <- "2018-08-01"
end_date <- "2018-08-31"
df2 <- google_analytics_4(my_id,
date_range = c(start_date, end_date),
metrics = c("sessions"),
dimensions = c("date"))
df2 <- google_analytics(my_id,
date_range = c(start_date, end_date),
metrics = c("sessions"),
dimensions = c("date"))
View(df)
View(df2)
install.packages("RGA")
?RGA
authorize()
rga.open(instance = "ga")
install_github("rga", "skardhamar")
install.packages("devtools")
library(devtools)
install_github("rga", "skardhamar")
library(rga)
??rga
ga$getData(xxx,
start.date = "2015-03-30",
end.date = "2015-03-31",
metrics = "ga:totalEvents",
dimensions = "ga:date,ga:customVarValue4,ga:eventCategory,ga:eventAction,ga:eventLabel",
sort = "",
filters = "ga:deviceCategory==desktop",
segment = "",
,batch = TRUE, walk = TRUE
)
ga_data <- google_analytics_4(viewId = "[your view ID]",
date_range = c(Sys.Date()-7, Sys.Date()-1),
metrics = c("users", "sessions","pageviews"),
dimensions = "date",
anti_sample = TRUE)
ga_data <- google_analytics(my_id,
date_range = c(start_date, end_date),
metrics = c("users", "sessions","pageviews"),
dimensions = "date",
anti_sample = TRUE)
View(ga_data)
?google_analytics
ga_data <- google_analytics(my_id,
date_range = c(start_date, end_date),
metrics = c("users", "sessions","pageviews"),
dimensions = "date",
anti_sample = TRUE,
anti_sample_batches = 1)
ga_data <- google_analytics(my_id,
date_range = c(start_date, end_date),
metrics = c("users", "sessions","pageviews"),
dimensions = "date",
anti_sample = TRUE,
anti_sample_batches = "1")
library(googleAnalyticsR)
start_date <- "2018-08-31"
end_date <- "2018-08-01"
my_id <- 56037355
ga_data <- google_analytics(my_id,
date_range = c(start_date, end_date),
metrics = c("users", "sessions","pageviews"),
dimensions = "date",
anti_sample = TRUE,
segments = NULL,
anti_sample_batches = 1)
View(ga_data)
start_date <- "2018-08-01"
end_date <- "2018-08-31"
ga_data <- google_analytics(my_id,
date_range = c(start_date, end_date),
metrics = c("users", "sessions","pageviews"),
dimensions = "date",
anti_sample = TRUE,
segments = NULL,
anti_sample_batches = 1)
View(ga_data)
ga_data <- google_analytics(my_id,
date_range = c(start_date, end_date),
metrics = c("users", "sessions","goal20Completions"),
dimensions = "date", "",
anti_sample = TRUE,
segments = NULL,
anti_sample_batches = 1)
ga_data <- google_analytics(my_id,
date_range = c(start_date, end_date),
metrics = c("users", "sessions","goal20Completions"),
dimensions = "date",
anti_sample = TRUE,
segments = NULL,
anti_sample_batches = 1)
ga_data <- google_analytics(my_id,
date_range = c(start_date, end_date),
metrics = c("users", "sessions","goal20Completions"),
dimensions = "date",
segments = NULL,
anti_sample_batches = 1)
library(googleAnalyticsR)
start_date <- "2018-08-01"
end_date <- "2018-08-31"
my_id <- 56037355
ga_data1 <- google_analytics(my_id,
date_range = c(start_date, end_date),
metrics = c("users", "sessions","goal20Completions"),
dimensions = "date",
anti_sample = TRUE,
segments = NULL,
anti_sample_batches = 1)
ga_data2 <- google_analytics(my_id,
date_range = c(start_date, end_date),
metrics = c("users", "sessions","goal20Completions"),
dimensions = "date",
segments = NULL,
anti_sample_batches = 1)
View(ga_data1)
View(ga_data2)
install.packages("googleAuthR")
install.packages("googleAuthR")
install.packages("googleAuthR")
q()
install.packages("tensor")
remove.packages("tensor", lib="~/R/win-library/3.5")
devtools::install_github("rstudio/keras")
q()
?make_ga_4_req
??make_ga_4_req
today()
Sys.Date()
Sys.Date()-1
?date_range
??date_range
q()
library(swirl)
swirl()
data(cars)
??cars
?cars
head(cars)
plot(cars)
?plot
plot(x = cars$speed, y = cars$dist)
plot(cars, x = cars$dist, y = cars$speed)
plot(x = cars$dist, y = cars$speed)
plot(Speed = cars$speed, y = cars$dist)
?plot
plot(x = cars$speed, y = cars$dist, xlab = "Speed")
plot(x = cars$speed, y = cars$dist, xlab = "Speed", ylab = "Stopping Distance")
plot(x = cars$speed, y = cars$dist, ylab = "Stopping Distance")
plot(x = cars$speed, y = cars$dist, xlab = "Speed", ylab = "Stopping Distance")
plot(x = cars$speed, y = cars$dist, main = "My Plot")
plot(cars, main = "My Plot")
plot(cars, sub = "My Plot Subtitle")
plot(cars, col = 2)
plot(cars, xlim = c(10, 15))
plot(cars, pch = 2)
data("mtcars")
data(mtcars)
?boxplot
boxplot(mpt ~ cyl, data = mtcars)
boxplot(mpg ~ cyl, data = mtcars)
hist(mtcars$mpg)
q()
knitr::opts_chunk$set(echo = TRUE)
summary(cars)
getwd()
setwd("C:/All-Files/Study&Learning/Udemy/Data Science Academy Master Data Science in R/Section1.4")
install.packages("httr")
library(httr)
r <- GET("https://www.nabler.com")
r
View(r\)
View(r)
r[["status_code"]]
r[["headers"]][["server"]]
r[["request"]]
data <- read.table("week4assignment-outcome-of-care-measures.csv", header = TRUE, sep = ",", na.strings = "NA", stringsAsFactors = FALSE)
data <- data[, c(which(colnames(data) == "Hospital.Name"),
which(colnames(data) == "State"),
which(colnames(data) == "Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack"),
which(colnames(data) == "Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure"),
which(colnames(data) == "Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia"))]
colnames(data) <- c("hospital.name", "State", "heart.attack", "heart.failure", "pneumonia")
data[data == "Not Available"] <- NA
data$heart.attack <- as.numeric(data$heart.attack)
data$heart.failure <- as.numeric(data$heart.failure)
data$pneumonia <- as.numeric(data$pneumonia)
statelist <- unique(data$State)
outcomelist <- c("heart attack", "heart failure", "pneumonia")
# Check that state and outcome are valid
state <- "AL"
outcome <- "heart attack"
num <- "best"
if(state %in% statelist == FALSE) {
stop("invalid state")
} else if(outcome %in% outcomelist == FALSE) {
stop("invalid outcome")
# If the state and outcome are valid, continue with the program
} else {
# Choose the outcome column to take, subset to the required columns and remove NAs
if(outcome == "heart attack") {
outcomecol <- "heart.attack"
finaldata <- data[, c(1, 2, 3)]
finaldata <- finaldata[complete.cases(finaldata$heart.attack), ]
} else if(outcome == "heart failure") {
outcomecol <- "heart.failure"
finaldata <- data[, c(1, 2, 4)]
finaldata <- finaldata[complete.cases(finaldata$heart.failure), ]
} else {
outcomecol <- "pneumonia"
finaldata <- data[, c(1, 2, 5)]
finaldata <- finaldata[complete.cases(finaldata$pneumonia), ]
}
# Changing best, worst and number function inputs to proper format
if(num == "best") {
num <- 1
} else if(num == "worst") {
num <- nrow(finaldata)
} else if(class(num == "numeric") == TRUE) {
num <- num
}
# Split the data set by state
splitbystate <- split(finaldata, finaldata$State)
View(splitbystate)
ans <- lapply(splitbystate, function(x, num) {
x <- x[order(x[, 3], x$hospital.name), ]
}, num)
View(ans)
return(data.frame(hospital = unlist(ans), state = names(ans)))
}
if(num == "best") {
num <- 1
} else if(num == "worst") {
num <- nrow(finaldata)
} else if(class(num == "numeric") == TRUE) {
num <- num
}
splitbystate <- split(finaldata, finaldata$State)
View(splitbystate)
splitbystate <- split(finaldata, finaldata$State)
if(outcome == "heart attack") {
outcomecol <- "heart.attack"
finaldata <- data[, c(1, 2, 3)]
finaldata <- finaldata[complete.cases(finaldata$heart.attack), ]
} else if(outcome == "heart failure") {
outcomecol <- "heart.failure"
finaldata <- data[, c(1, 2, 4)]
finaldata <- finaldata[complete.cases(finaldata$heart.failure), ]
} else {
outcomecol <- "pneumonia"
finaldata <- data[, c(1, 2, 5)]
finaldata <- finaldata[complete.cases(finaldata$pneumonia), ]
}
if(num == "best") {
num <- 1
} else if(num == "worst") {
num <- nrow(finaldata)
} else if(class(num == "numeric") == TRUE) {
num <- num
}
splitbystate <- split(finaldata, finaldata$State)
requiredPackages <- c("googleAnalyticsR", "tidyr", "dplyr", "openxlsx", "XLConnect")
version()
version
library(fractribution.data)
library(fractribution.model)
path_customer_map
View
View(path_customer_map)
example_path_customer_map
head(example_path_summary)
fractional_attribution <- attribution_fit(example_path_summary)
fractional_attribution <- attribution_fit(example_path_summary, path_level_only = T)
View(fractional_attribution)
install.packages("Forecast")
Y
install.packages("forecast")
install.packages("lubridate")
install.packages("dplyr")
install.packages("ttr")
install.packages("TTR")
install.packages("DMWR")
install.packages("DMwR")
install.packages("Tseries")
install.packages("tseries")
exit
q()
if(require(forecast)){library(forecast)} else {install.packages("forecast");library(forecast)}
if(require(tseries)){library(tseries)} else {install.packages("tseries");library(tseries)}
if(require(aTSA)){library(aTSA)} else {install.packages("aTSA");library(aTSA)}
if(require(plotly)){library(plotly)} else {install.packages("plotly");library(plotly)}
if(require(Hmisc)){library(Hmisc)} else {install.packages("Hmisc");library(Hmisc)}
if(require(dplyr)){library(dplyr)} else {install.packages("dplyr");library(dplyr)}
library(knitr)
library(tm)
library(forecast)
data<-read.csv(file.choose(),header=T,na.strings = c(""," "),stringsAsFactors = F)
data<-read.csv(file.choose(),header=T,na.strings = c(""," "),stringsAsFactors = F)
data$Month <- factor(data$Month, levels = data[["Month"]])
#Splitting into test and train by logical split by seasonality (for example, complete year)
data_train<-data[1:72,2]
data_test<-data[73:84,2]
#Converting data to a time-series
volume_ts<-ts(data_train,start = c(2009,1),end=c(2014,12),frequency = 12)
# Decomposing to look at the seasonal, trend and irregular components
comp <- stl(volume_ts, s.window = "periodic")
plot(comp)
plot.ts(volume_ts)
# Performing a Unit Root Test - Augmented Dickey Fuller (ADF) test
tseries::adf.test(volume_ts)
tseries::adf.test(diff(volume_ts,differences = 1))
plot(diff(volume_ts),ylab="Differenced",type="l")
# Decomposing to look at the seasonal, trend and irregular components
comp <- stl(volume_ts, s.window = "periodic")
plot(comp)
plot.ts(volume_ts)
# Performing a Unit Root Test - Augmented Dickey Fuller (ADF) test
tseries::adf.test(volume_ts)
tseries::adf.test(diff(volume_ts,differences = 1))
diff(volume_ts)
?tseries
??tseries
?adf.test
install.packages("rvest")
library(rvest)
?httr::status_code()
# setwd() is used to assign / change the current working directory. In the below example, an
# absolute path is set.
setwd("C:\\All-Files\\Study&Learning\\Coursera\\DataScience\\GettingAndCleaningData\\Week1")
install.packages(c("BH", "bit", "broom", "callr", "car", "caret", "checkmate", "cli", "data.table", "DBI", "dendextend", "devtools", "digest", "dplyr", "DT", "fansi", "farver", "forcats", "foreach", "forecast", "fracdiff", "gh", "gplots", "hexbin", "Hmisc", "hms", "jsonlite", "knitr", "mime", "mnormt", "ModelMetrics", "modelr", "naniar", "nloptr", "nnet", "openxlsx", "pillar", "plotly", "plyr", "prettyunits", "processx", "ps", "psych", "quantreg", "rattle", "RcppArmadillo", "RCurl", "recipes", "remotes", "rlang", "rmarkdown", "rstudioapi", "slam", "sp", "SparseM", "SQUAREM", "stringi", "swirl", "testthat", "tidyr", "tidyselect", "tinytex", "tm", "TSP", "TTR", "vctrs", "xfun", "xlsx", "XML", "xts", "yaml", "zoo"))
install.packages(c("boot", "foreign", "lattice", "MASS", "nlme", "nnet", "survival"), lib="C:/Users/cammillius.rj/Documents/R/R-3.5.2/library")
install.packages(c("fracdiff", "plyr", "testthat"))
install.packages(c("foreign", "nlme"), lib="C:/Users/cammillius.rj/Documents/R/R-3.5.2/library")
install.packages(c("fracdiff", "plyr", "testthat"))
install.packages(c("foreign", "nlme"), lib="C:/Users/cammillius.rj/Documents/R/R-3.5.2/library")
library(XML)
doc <- xmlTreeParse(fileURL, useInternal = TRUE)
fileURL <- "https://www.w3schools.com/xml/simple.xml"
doc <- xmlTreeParse(fileURL, useInternal = TRUE)
doc <- xmlTreeParse(fileURL, useInternalNodes = TRUE)
fileURL <- "http://www.w3schools.com/xml/simple.xml"
doc <- xmlTreeParse(fileURL, useInternalNodes = TRUE)
?xmlTreeParse
doc <- xmlTreeParse(fileURL)
fileURL <- "https://www.w3schools.com/xml/simple.xml"
doc <- xmlTreeParse(fileURL)
doc <- xmlTreeParse(fileURL, useInternalNodes = TRUE)
fileURL <- "https://www.w3schools.com/xml/simple.xml"
doc <- xmlTreeParse(fileURL, useInternalNodes = TRUE)
fileURL <- "http://www.w3schools.com/xml/simple.xml"
doc <- xmlTreeParse(fileURL, useInternalNodes = TRUE)
library(httr)
library(xml2)
library(RCurl)
fileURL <- "https://www.w3schools.com/xml/simple.xml"
theurl <- getURL(url = fileURL)
doc <- xmlTreeParse(theurl, useInternalNodes = TRUE)
theurl <- "https://www.w3schools.com/xml/simple.xml"
fileURL <- getURL(url = theurl)
doc <- xmlTreeParse(theurl, useInternalNodes = TRUE)
library(XML)
library(RCurl)
theurl <- "https://www.w3schools.com/xml/simple.xml"
fileURL <- getURL(url = theurl)
doc <- xmlTreeParse(theurl, useInternalNodes = TRUE)
doc <- xmlTreeParse(fileURL, useInternalNodes = TRUE)
rootNode <- xmlRoot(doc)
xmlName(rootNode)
names(rootNode)
doc <- xmlTreeParse(fileURL, useInternalNodes = FALSE)
rootNode <- xmlRoot(doc)
xmlName(rootNode)
names(rootNode)
rootNode
rootNode[[1]]
rootNode[[1]][[1]]
xmlSApply(rootNode, xmlValue)
install.packages("XPath")
# setwd() is used to assign / change the current working directory. In the below example, an
# absolute path is set.
setwd("C:\\All-Files\\Study&Learning\\Coursera\\DataScience\\GettingAndCleaningData\\Week1")
library(XML)
source('C:/All-Files/Study&Learning/Coursera/DataScience/GettingAndCleaningData/Week1/20200225_Week1.R', echo=TRUE)
library(XML)
# The XML code given cannot read from https, which requires RCurl library
library(RCurl)
theurl <- "https://www.w3schools.com/xml/simple.xml"
fileURL <- getURL(url = theurl)
doc <- xmlTreeParse(fileURL, useInternalNodes = TRUE)
rootNode <- xmlRoot(doc)
xmlName(rootNode)
names(rootNode)
rootNode[[1]]
rootNode[[1]][[1]]
xmlSApply(rootNode, xmlValue)
